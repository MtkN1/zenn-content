---
title: "はじめに"
---

この Zenn 本は「**仮想通貨botter Advent Calendar 2023**」 16 日目の記事です。

https://qiita.com/advent-calendar/2023/botter

## この本はなに？

この本では、仮想通貨 bot をデプロイするためのいくつかのコンセプトをいくつか紹介します。まず、レガシーな方法から始めて、次に**コンテナ化**と**自動化**の方法を説明します。 最終的には、**サーバーレスな実行環境 (AWS ECS)** へ bot をデプロイする方法を説明します。

順を追って説明していくので、全てのコンセプトを取り入れなくても各々のユースケースに合ったコンセプトのみ取り入れて頂くことも可能ですし、最後には全部入りのテンプレートリポジトリを置いておきますのでそれをそのまま利用することも可能です。

それではこの本でデプロイに関する必要知識を身に着けて、あとは bot 開発に集中できるよう学習を進めていきましょう！🚀

## 前提条件

- プログラミング言語は **Python** を例として説明します。 ただしこの本では実装的な極力減らしているので他の言語に置き換えて読んで頂けるかと思います。
- クラウド環境を利用する為に **AWS アカウント**が必要です。
- ソースコードを管理、ワークフローの自動化を行う為に **GitHub アカウント**が必要です。

## デプロイってなに？

> デプロイ（英：deploy）とは
>
> 作ったプログラムをしかるべき場所に置いたり、あれやこれやの設定をしたりして、使える状態にすること
>
> https://wa3.i-3-i.info/word16767.html


つまり botter にとってデプロイはそのままの意味で「bot を稼働させる」ことです。

botter の誰もが知っている最も原始的な方法としては自身の PC で次のコマンドを実行して PC の電源を付けっぱなしにしておく事でしょう。
![](https://storage.googleapis.com/zenn-user-upload/427d60900661-20231214.png)

しかしこれだけでは**いくつか問題点が存在します**。

- **可用性**
    - 🤔 PC の電源を付けっぱなしにしておかなくてはいけない。
    - 🤔 PC をシャットダウンしたら bot も停止する。
    - 🤔 PC のスペックを超える処理を行うことができない。
- **ネットワーキング**
    - 🤔 通信が個人のインターネット環境に左右される。
- **運用性**
    - 🤔 出先などで外部から bot のログ確認や一時停止等の管理を行うことが難しい。
- **可搬性**
    - 🤔 PC を変える時など、ライブラリがローカルの環境に依存している場合、別環境で環境構築するのは容易ではない。

ローカルで開発中にテストとして一時的に実行する程度のケースであれば問題ないのですが、実際にローカルで継続的に bot を稼働させようとすることは難しいので、**可用性の観点として難あり**です。

その為、これを解決するには **AWS などのクラウド環境**を利用します。 クラウドの仮想マシンであればわざわざシャットダウンすることなく稼働してくれます。 クラウドの利用方法はやり方を紹介している記事なども多いので、**既にクラウド環境を利用している botter も多い**かと思います。

次の章ではクラウド環境での古典的なデプロイコンセプト、そこで存在する課題などを紹介します。

:::message
クラウド環境でなくても、ミニ PC や自宅サーバーなどのマシンを利用する選択肢もありますがこの本では省略します。
:::

## (コラム) 一般的な文脈のデプロイとの違い

一般的な「デプロイ」と言うと「Web アプリ」の文脈で語られる事が多いと思います。 デプロイに関してネットで検索して出てくる情報は基本的に Web アプリ向けの情報になっています。

Web アプリのデプロイは bot とは異なりやることが多いです。 プログラムを実行するだけでなく、アプリを公開するためのポート番号、負荷分散のためのレプリケーションやロードバランサー、SSL 証明書、セキュリティなどの設定を行わなければなりません。 デプロイ技術が発達する前はこれを開発者が手動で行っており、複雑で面倒な手順書などが存在していました。 しかし時代が進むにつれて、コンテナ化や Infrastructure as Code (IaC) の技術が発展していきました。 これにより開発者は面倒な手順に煩わされることなくアプリをデプロイできるようになりました。 その為、**既に普及しているデプロイに関するツールやサービスは Web アプリのユースケースを解決するための機能を前提として作られています**。

話を仮想通貨 bot に戻します。 bot であれば基本的に単一のプログラムを実行するだけです。 しかし単純な方法だけだけではいくつかの問題があるのも事実です。 かといって bot の為にデプロイに関するツールやサービスを利用しようと思うと、上記のように Web アプリのユースケースを前提としている為、特に本業が Web 系でもない場合は**情報を取捨選択して学ぶことが難しい**です。 例えば bot にはポートの公開やロードバランサー、レプリケーションなどの機能は基本的に必要ありません (bot をマイクロサービス化するのではなければ)。

この本ではこの辺りを非エンジニアの方でも理解しやすいように、**botter として利用価値のある技術をかいつまんで説明していこうと思います**。
